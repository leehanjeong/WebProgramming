(this.webpackJsonpproj2=this.webpackJsonpproj2||[]).push([[0],{19:function(e,t,a){e.exports=a(44)},25:function(e,t,a){},26:function(e,t,a){},44:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),s=a(12),r=a.n(s),c=a(2),l=a.n(c),o=a(13),m=a(14),u=a(15),v=a(18),d=a(17);a(25),a(26);var p=function(e){var t=e.id,a=(e.year,e.title),n=(e.like,e.rating),s=e.genres,r=e.runtime,c=e.summary,l=e.background,o=e.like_cnt;return i.a.createElement("div",{className:"movie"},i.a.createElement("a",{href:t,target:"_blank"},i.a.createElement("div",{className:"movie_data"},i.a.createElement("div",{className:"movie_image",style:{backgroundImage:"url(".concat(l,")")}},i.a.createElement("div",{className:"movie_title"},i.a.createElement("div",{className:"a"},i.a.createElement("p",{className:"movie_name"},a.replace(/<b>/gi,"").replace(/<\/b>/gi,"")),i.a.createElement("p",{className:"movie_genres"},s)))),i.a.createElement("div",{className:"background"},i.a.createElement("p",{className:"movie_info"},"\uc601\ud654\uc815\ubcf4"),i.a.createElement("p",{className:"movie_sub_info"},i.a.createElement("p",null,r,"\ubd84"),i.a.createElement("p",{className:"movie_rating"},"\ud3c9\uc810:\xa0",n),i.a.createElement("p",null,"\uc88b\uc544\uc694:\xa0",o)),i.a.createElement("p",{className:"movie_summary"},"\uc904\uac70\ub9ac"),i.a.createElement("p",{className:"movie_sub_summary"},c)))))},h=a(16),g=a.n(h),_=function(e,t){return g.a.get("https://yts.mx/api/v2/list_movies.json",{params:{sort_by:e+"_count",limit:t}})},E=function(e){Object(v.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return(e=t.call.apply(t,[this].concat(i))).state={isLoading:!1,isSearched:!1,movies:[],idx:null},e.getSearchMovie=Object(o.a)(l.a.mark((function t(){var a,n,i,s,r;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(console.log("search Movie"),a=e.state.value,t.prev=2,""!==a){t.next=7;break}e.setState({movies:[],isLoading:!1,isSearched:!1}),t.next=15;break;case 7:return e.setState({movies:[],isLoading:!0}),n=String(a),i=n.split(" "),t.next=12,_(i[0],i[1]);case 12:s=t.sent,r=s.data.data.movies,e.setState({movies:r,isLoading:!1});case 15:t.next=20;break;case 17:t.prev=17,t.t0=t.catch(2),console.log(t.t0);case 20:case"end":return t.stop()}}),t,null,[[2,17]])}))),e.getMovieDetail=function(t){fetch("https://movie-app-2021.herokuapp.com/yts/api/v2/movie_details.json?movie_id=".concat(t,"&with_images=true&with_cast=true"),{method:"GET",headers:{"Content-type":"application/json"}}).then((function(e){return e.json()})).then((function(t){console.log("res",t),e.setState({like_cnt:t.data.movie.like_count})}))},e.handleChange=function(t){e.setState({value:t.target.value})},e.handleSubmit=function(t){t.preventDefault(),e.getSearchMovie(),e.setState({isSearched:!0})},e.buttonClicked=function(t,a){e.setState({idx:t}),console.log(e.state.movies),e.getMovieDetail(a)},e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){this.getSearchMovie(),console.log(this.state.movies)}},{key:"render",value:function(){var e=this,t=this.state,a=t.movies,n=t.isLoading,s=t.isSearched,r=t.idx,c=a.map((function(t,a){return i.a.createElement("img",{key:t.id,id:t.id,src:t.medium_cover_image,onClick:function(){return e.buttonClicked(a,t.id)}})})),l=a.map((function(t,a){return i.a.createElement(p,{key:t.id,id:t.id,year:t.year,title:t.title,genres:t.genres,runtime:t.runtime,rating:t.rating,summary:t.summary,background:t.large_cover_image,index:a,like_cnt:e.state.like_cnt})}));return i.a.createElement("section",{className:"container"},n?i.a.createElement("div",{className:"loader"},i.a.createElement("span",{className:"loader__text"},"(",this.state.name,") Loading\u2026 ",this.state.value)):i.a.createElement("form",{onSubmit:this.handleSubmit},i.a.createElement("div",{className:"input_div"},i.a.createElement("h1",{className:"title"},"yts.mx \uc601\ud654 \uc815\ubcf4"),i.a.createElement("div",{className:"search_div"},i.a.createElement("input",{className:"input_search",type:"text",value:this.state.value,onChange:this.handleChange,placeholder:"\uc785\ub825\ud3ec\ub9f7:<\uc815\ub82c\uae30\uc900><\uac80\uc0c9\uac1c\uc218> \uc608:like 5"}),i.a.createElement("button",{className:"addButton"},"+"))),i.a.createElement("div",{className:"movies_div",style:s?{display:"flex"}:{display:"none"}},c),i.a.createElement("div",{className:"movie_div"},l[r])))}}]),a}(i.a.Component);var f=function(){return i.a.createElement(E,null," ")};r.a.render(i.a.createElement(f,null),document.getElementById("root"))}},[[19,1,2]]]);
//# sourceMappingURL=main.16f2a536.chunk.js.map